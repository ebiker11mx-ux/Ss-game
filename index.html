<!DOCTYPE html>
<html>
<head>
  <title>99 Nights in the Forest</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-image: url('https://copilot.microsoft.com/th/id/BCO.31cf7a24-14e3-4ef6-8bd6-697159c79a5e.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      color: #eee;
      text-align: center;
      padding: 20px;
    }
    #game {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 10px;
      display: inline-block;
      margin-top: 20px;
    }
    button {
      margin: 5px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: rgba(50, 50, 50, 0.8);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #forest {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    .tree {
      width: 60px;
      height: 100px;
      background-color: green;
      margin: 10px;
      border-radius: 10px 10px 0 0;
      position: relative;
      cursor: pointer;
    }
    .tree::after {
      content: "";
      position: absolute;
      bottom: -20px;
      left: 20px;
      width: 20px;
      height: 20px;
      background-color: brown;
    }
    #inventory {
      margin-top: 10px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <h1>üå≤ 99 Nights in the Forest</h1>
  <div id="game">
    <p id="status">Night 1 begins...</p>
    <p id="playerStats"></p>
    <p id="wolfStats"></p>
    <div id="inventory"></div>
    <button onclick="gatherStone()">Gather Stone</button>
    <button onclick="craftItem('campfire')">Craft Campfire</button>
    <button onclick="craftItem('axe')">Craft Axe</button>
    <button onclick="craftItem('shelter')">Craft Shelter</button>
    <button onclick="craftItem('workbench')">Craft Workbench</button>
    <button onclick="craftItem('compass')">Craft Compass</button>
    <button onclick="craftItem('potion')">Craft Healing Potion</button>
    <button onclick="eatFood('berries')">Eat Berries</button>
    <button onclick="eatFood('meat')">Eat Meat</button>
    <button onclick="attackWolf()">Attack Wolf</button>
    <button onclick="nextNight()">Next Night</button>
    <div id="forest"></div>
  </div>

  <script>
    let night = 1;
    let playerHealth = 100;
    let hunger = 100;
    let wolfHealth = 50;
    let wolfAlive = true;

    let inventory = {
      wood: 0,
      stone: 0,
      berries: 0,
      meat: 0,
      crystal: 0,
      campfire: false,
      axe: false,
      shelter: false,
      workbench: false,
      compass: false,
      potion: 0
    };

    function updateStatus(message) {
      document.getElementById("status").innerText = message;
      document.getElementById("playerStats").innerText = `Health: ${playerHealth} | Hunger: ${hunger}`;
      document.getElementById("wolfStats").innerText = wolfAlive ? `üê∫ Wolf Health: ${wolfHealth}` : "üê∫ The wolf is defeated!";
      document.getElementById("inventory").innerHTML = `
        <strong>Inventory:</strong><br>
        Wood: ${inventory.wood} | Stone: ${inventory.stone} | Crystal: ${inventory.crystal}<br>
        Berries: ${inventory.berries} | Meat: ${inventory.meat} | Potions: ${inventory.potion}<br>
        Campfire: ${inventory.campfire ? "‚úÖ" : "‚ùå"} | Axe: ${inventory.axe ? "‚úÖ" : "‚ùå"} | Shelter: ${inventory.shelter ? "‚úÖ" : "‚ùå"} | Workbench: ${inventory.workbench ? "‚úÖ" : "‚ùå"} | Compass: ${inventory.compass ? "‚úÖ" : "‚ùå"}
      `;
    }

    function gatherStone() {
      let amount = Math.floor(Math.random() * 3) + 1;
      inventory.stone += amount;
      updateStatus(`You gathered ${amount} stone.`);
    }

    function craftItem(item) {
      if (item === "campfire" && inventory.wood >= 5) {
        inventory.wood -= 5;
        inventory.campfire = true;
        updateStatus("You crafted a campfire.");
      } else if (item === "axe" && inventory.wood >= 3 && inventory.stone >= 2) {
        inventory.wood -= 3;
        inventory.stone -= 2;
        inventory.axe = true;
        updateStatus("You crafted an axe.");
      } else if (item === "shelter" && inventory.wood >= 10 && inventory.stone >= 5) {
        inventory.wood -= 10;
        inventory.stone -= 5;
        inventory.shelter = true;
        updateStatus("You built a shelter.");
      } else if (item === "workbench" && inventory.wood >= 8 && inventory.stone >= 4) {
        inventory.wood -= 8;
        inventory.stone -= 4;
        inventory.workbench = true;
        updateStatus("You built a workbench.");
      } else if (item === "compass" && inventory.workbench && inventory.stone >= 2 && inventory.crystal >= 1) {
        inventory.stone -= 2;
        inventory.crystal -= 1;
        inventory.compass = true;
        updateStatus("You crafted a compass.");
      } else if (item === "potion" && inventory.workbench && inventory.berries >= 1 && inventory.crystal >= 1) {
        inventory.berries -= 1;
        inventory.crystal -= 1;
        inventory.potion += 1;
        updateStatus("You brewed a healing potion.");
      } else {
        updateStatus("Not enough resources or missing workbench.");
      }
    }

    function eatFood(type) {
      if (type === "berries" && inventory.berries > 0) {
        inventory.berries--;
        hunger += 15;
        hunger = Math.min(hunger, 100);
        updateStatus("You ate berries. Hunger restored.");
      } else if (type === "meat" && inventory.meat > 0) {
        inventory.meat--;
        hunger += 30;
        hunger = Math.min(hunger, 100);
        updateStatus("You ate meat. Hunger restored.");
      } else {
        updateStatus("You don't have any " + type + " to eat.");
      }
    }

    function attackWolf() {
      if (wolfAlive) {
        let damage = inventory.axe ? Math.floor(Math.random() * 20) + 10 : Math.floor(Math.random() * 10) + 5;
        wolfHealth -= damage;
        updateStatus(`You attacked the wolf for ${damage} damage.`);
        if (wolfHealth <= 0) {
          wolfAlive = false;
          inventory.meat += 1;
          updateStatus("You defeated the wolf and got meat!");
        } else {
          wolfAttack();
        }
      } else {
        updateStatus("The wolf is already defeated.");
      }
    }

    function wolfAttack() {
      let damage = Math.floor(Math.random() * 10) + 5;
      if (inventory.shelter) damage = Math.floor(damage / 2);
      playerHealth -= damage;
      updateStatus(`The wolf attacked you for ${damage} damage!`);
      if (playerHealth <= 0) {
        updateStatus("üíÄ You died. Game over.");
        disableButtons();
      }
    }

    function nextNight() {
      night++;
      hunger -= 20;
      if (hunger <= 0) {
        hunger = 0;
        playerHealth -= 15;
        updateStatus("You are starving! Health drops.");
      }

      if (night > 99) {
        updateStatus("üéâ You survived 99 nights! You win!");
        disableButtons();
        return;
      }

      wolfAlive = Math.random() > 0.4;
      wolfHealth = wolfAlive ? 50 : 0;
      createForest();
      updateStatus(`Night ${night} begins...`);
    }

    function disableButtons() {
      document.query                                                                                                                                                                                                                                                                                                                                                                       return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      wolfAlive = Math.random() > 0.5;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            wolfHealth = wolfAlive ? 50 : 0;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (!shelterBuilt && wolfAlive) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          wolfAttack();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  updateStatus(`Night ${night}: A wolf appears!`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                updateStatus(`Night ${night}: You survived.`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              function disableButtons() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    document.querySelectorAll("button").forEach(btn => btn.disabled = true);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            updateStatus("Night 1 begins...");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </html>
