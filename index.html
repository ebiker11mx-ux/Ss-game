<!DOCTYPE html>
<html>
<head>
  <title>99 Nights in the Forest</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #1a1a1a;
      color: #eee;
      text-align: center;
      padding: 20px;
    }
    button {
      margin: 5px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #444;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #forest {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    .tree {
      width: 60px;
      height: 100px;
      background-color: green;
      margin: 10px;
      border-radius: 10px 10px 0 0;
      position: relative;
      cursor: pointer;
    }
    .tree::after {
      content: "";
      position: absolute;
      bottom: -20px;
      left: 20px;
      width: 20px;
      height: 20px;
      background-color: brown;
    }
    #inventory {
      margin-top: 10px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <h1>üå≤ 99 Nights in the Forest</h1>
  <div id="game">
    <p id="status">Night 1 begins...</p>
    <p id="playerStats"></p>
    <p id="wolfStats"></p>
    <div id="inventory"></div>
    <button onclick="gatherStone()">Gather Stone</button>
    <button onclick="craftItem('campfire')">Craft Campfire</button>
    <button onclick="craftItem('axe')">Craft Axe</button>
    <button onclick="craftItem('shelter')">Craft Shelter</button>
    <button onclick="eatFood('berries')">Eat Berries</button>
    <button onclick="eatFood('meat')">Eat Meat</button>
    <button onclick="attackWolf()">Attack Wolf</button>
    <button onclick="nextNight()">Next Night</button>
    <div id="forest"></div>
  </div>

  <script>
    let night = 1;
    let playerHealth = 100;
    let hunger = 100;
    let wolfHealth = 50;
    let wolfAlive = true;

    let inventory = {
      wood: 0,
      stone: 0,
      berries: 0,
      meat: 0,
      campfire: false,
      axe: false,
      shelter: false
    };

    function updateStatus(message) {
      document.getElementById("status").innerText = message;
      document.getElementById("playerStats").innerText = `Health: ${playerHealth} | Hunger: ${hunger}`;
      document.getElementById("wolfStats").innerText = wolfAlive ? `üê∫ Wolf Health: ${wolfHealth}` : "üê∫ The wolf is defeated!";
      document.getElementById("inventory").innerHTML = `
        <strong>Inventory:</strong><br>
        Wood: ${inventory.wood} | Stone: ${inventory.stone}<br>
        Berries: ${inventory.berries} | Meat: ${inventory.meat}<br>
        Campfire: ${inventory.campfire ? "‚úÖ" : "‚ùå"} | Axe: ${inventory.axe ? "‚úÖ" : "‚ùå"} | Shelter: ${inventory.shelter ? "‚úÖ" : "‚ùå"}
      `;
    }

    function gatherStone() {
      let amount = Math.floor(Math.random() * 3) + 1;
      inventory.stone += amount;
      updateStatus(`You gathered ${amount} stone.`);
    }

    function craftItem(item) {
      if (item === "campfire" && inventory.wood >= 5) {
        inventory.wood -= 5;
        inventory.campfire = true;
        updateStatus("You crafted a campfire.");
      } else if (item === "axe" && inventory.wood >= 3 && inventory.stone >= 2) {
        inventory.wood -= 3;
        inventory.stone -= 2;
        inventory.axe = true;
        updateStatus("You crafted an axe.");
      } else if (item === "shelter" && inventory.wood >= 10 && inventory.stone >= 5) {
        inventory.wood -= 10;
        inventory.stone -= 5;
        inventory.shelter = true;
        updateStatus("You built a shelter.");
      } else {
        updateStatus("Not enough resources to craft " + item + ".");
      }
    }

    function eatFood(type) {
      if (type === "berries" && inventory.berries > 0) {
        inventory.berries--;
        hunger += 15;
        hunger = Math.min(hunger, 100);
        updateStatus("You ate berries. Hunger restored.");
      } else if (type === "meat" && inventory.meat > 0) {
        inventory.meat--;
        hunger += 30;
        hunger = Math.min(hunger, 100);
        updateStatus("You ate meat. Hunger restored.");
      } else {
        updateStatus("You don't have any " + type + " to eat.");
      }
    }

    function attackWolf() {
      if (wolfAlive) {
        let damage = inventory.axe ? Math.floor(Math.random() * 20) + 10 : Math.floor(Math.random() * 10) + 5;
        wolfHealth -= damage;
        updateStatus(`You attacked the wolf for ${damage} damage.`);
        if (wolfHealth <= 0) {
          wolfAlive = false;
          inventory.meat += 1;
          updateStatus("You defeated the wolf and got meat!");
        } else {
          wolfAttack();
        }
      } else {
        updateStatus("The wolf is already defeated.");
      }
    }

    function wolfAttack() {
      let damage = Math.floor(Math.random() * 10) + 5;
      if (inventory.shelter) damage = Math.floor(damage / 2);
      playerHealth -= damage;
      updateStatus(`The wolf attacked you for ${damage} damage!`);
      if (playerHealth <= 0) {
        updateStatus("üíÄ You died. Game over.");
        disableButtons();
      }
    }

    function nextNight() {
      night++;
      hunger -= 20;
      if (hunger <= 0) {
        hunger = 0;
        playerHealth -= 15;
        updateStatus("You are starving! Health drops.");
      }

      if (night > 99) {
        updateStatus("üéâ You survived 99 nights! You win!");
        disableButtons();
        return;
      }

      wolfAlive = Math.random() > 0.4;
      wolfHealth = wolfAlive ? 50 : 0;
      createForest();
      updateStatus(`Night ${night} begins...`);
    }

    function disableButtons() {
      document.querySelectorAll("button").forEach(btn => btn.disabled = true);
    }

    function createForest() {
      const forest = document.getElementById("forest");
      forest.innerHTML = "";
      for (let i = 0; i < 6; i++) {
        const tree = document.createElement("div");
        tree.className = "tree";
        tree.onclick = () => {
          let woodAmount = Math.floor(Math.random() * 3) + 1;
          inventory.wood += woodAmount;
          if (Math.random() > 0.6) {
            inventory.berries += 1;
            updateStatus(`You chopped a tree: +${woodAmount} wood, +1 berries.`);
          } else {
            updateStatus(`You chopped a tree: +${woodAmount} wood.`);
          }
          tree.style.visibility = "hidden";
        };
        forest.appendChild(tree);
      }
    }

    createForest();
    updateStatus("Night 1 begins...");
  </script>
</body>
</html>                                                                                                                                                                                                                                                                               wolfAttack();
                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                          } else {
                                                                                                                                                                                                                                                                                                                                                                                                  updateStatus("The wolf is already defeated.");
                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                                                                                                                                function wolfAttack() {
                                                                                                                                                                                                                                                                                                                                                                                                                      let damage = Math.floor(Math.random() * 10) + 5;
                                                                                                                                                                                                                                                                                                                                                                                                                            playerHealth -= damage;
                                                                                                                                                                                                                                                                                                                                                                                                                                  updateStatus(`The wolf attacked you for ${damage} damage!`);
                                                                                                                                                                                                                                                                                                                                                                                                                                        if (playerHealth <= 0) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                updateStatus("üíÄ You died. Game over.");
                                                                                                                                                                                                                                                                                                                                                                                                                                                        disableButtons();
                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                      function nextNight() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            night++;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (night > 99) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          updateStatus("üéâ You survived 99 nights! You win!");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  disableButtons();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      wolfAlive = Math.random() > 0.5;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            wolfHealth = wolfAlive ? 50 : 0;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (!shelterBuilt && wolfAlive) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          wolfAttack();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  updateStatus(`Night ${night}: A wolf appears!`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                updateStatus(`Night ${night}: You survived.`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              function disableButtons() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    document.querySelectorAll("button").forEach(btn => btn.disabled = true);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            updateStatus("Night 1 begins...");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </html>
