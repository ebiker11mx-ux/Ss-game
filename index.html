<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ethan & Angi — Our Year</title>
  <style>
    :root {
      --bg: #0f1216;
      --card: #171b21;
      --text: #eef2f7;
      --muted: #a8b0bd;
      --accent: #ff7aa2;
      --accent2: #7ad0ff;
      --radius: 14px;
    }
    * { box-sizing: border-box; }
    html, body {
      margin: 0;
      background: radial-gradient(1200px circle at 10% 10%, #111522 0%, #0c0f14 60%, #080a0d 100%);
      color: var(--text);
      font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    .site-header { padding: 24px 16px; text-align: center; }
    .site-header h1 { margin: 8px 0; font-weight: 800; }
    .site-header p { margin: 0; color: var(--muted); }
    .container { max-width: 1100px; margin: 0 auto; padding: 16px; }
    .month-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 16px;
    }
    .month-card {
      display: grid;
      grid-template-rows: 1fr auto;
      background: linear-gradient(160deg, var(--card), #12161c);
      border: 1px solid #222932;
      border-radius: var(--radius);
      padding: 18px;
      text-decoration: none;
      color: var(--text);
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      cursor: pointer;
    }
    .month-card:hover { transform: translateY(-3px); box-shadow: 0 16px 40px rgba(0,0,0,0.45); }
    .month-thumb {
      display: grid; place-items: center;
      height: 100px;
      background: linear-gradient(135deg, rgba(255,122,162,0.15), rgba(122,208,255,0.15));
      border-radius: 10px;
      font-size: 36px; font-weight: 800;
    }
    .month-name { margin-top: 12px; color: var(--muted); font-weight: 600; }
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 12px;
      margin-top: 24px;
    }
    .gallery-grid img {
      width: 100%; aspect-ratio: 4/3; object-fit: cover;
      border-radius: 12px; border: 1px solid #232a34;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .gallery-grid img:hover { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(0,0,0,0.35); }
    .lightbox {
      position: fixed; inset: 0;
      background: rgba(5,7,10,0.9);
      display: none; align-items: center; justify-content: center; flex-direction: column;
      padding: 24px; z-index: 999;
    }
    .lightbox.show { display: flex; }
    .lightbox img {
      max-width: min(100%, 980px); max-height: 80vh;
      border-radius: 12px; border: 1px solid #232a34;
      box-shadow: 0 20px 60px rgba(0,0,0,0.6);
    }
    .lightbox-close {
      position: absolute; top: 18px; right: 18px;
      background: var(--card); color: var(--text);
      border: 1px solid #232a34; border-radius: 10px;
      padding: 8px 12px; font-size: 22px; cursor: pointer;
    }
    .lightbox-nav { margin-top: 12px; display: flex; gap: 12px; }
    .lightbox-nav button {
      background: linear-gradient(160deg, var(--card), #12161c);
      color: var(--text); border: 1px solid #232a34;
      border-radius: 10px; padding: 8px 14px; cursor: pointer;
    }
  </style>
</head>
<body>
  <header class="site-header">
    <h1>Ethan & Angi</h1>
    <p>Our moments, month by month</p>
  </header>

  <main class="container">
    <section class="month-grid" id="monthGrid"></section>
    <div id="gallery" class="gallery-grid"></div>
  </main>

  <div id="lightbox" class="lightbox" aria-hidden="true">
    <button class="lightbox-close">×</button>
    <img id="lightboxImg" alt="Photo" />
    <div class="lightbox-nav">
      <button id="prevBtn">◀</button>
      <button id="nextBtn">▶</button>
    </div>
  </div>

  <script>
    const MONTHS = [
      "January","February","March","April","May","June",
      "July","August","September","October","November","December"
    ];
    const monthGrid = document.getElementById("monthGrid");
    const gallery = document.getElementById("gallery");
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightboxImg");
    const closeBtn = document.querySelector(".lightbox-close");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    let currentList = [], currentIndex = 0;

    // Build month cards
    MONTHS.forEach((name, i) => {
      const card = document.createElement("div");
      card.className = "month-card";
      card.innerHTML = `<div class="month-thumb">${String(i+1).padStart(2,"0")}</div>
                        <div class="month-name">${name}</div>`;
      card.addEventListener("click", () => loadMonth(i+1, name));
      monthGrid.appendChild(card);
    });

    function loadMonth(num, name) {
      gallery.innerHTML = "";
      const maxPhotos = 20;
      const list = [];
      for (let i=1; i<=maxPhotos; i++) {
        list.push(`albums/${String(num).padStart(2,"0")}_${name}/photo${i}.jpg`);
      }
      currentList = [];
      let loaded = 0;
      list.forEach(src => {
        const img = new Image();
        img.onload = () => {
          currentList.push(src);
          loaded++;
          if (loaded===list.length) renderGallery(name);
        };
        img.onerror = () => {
          loaded++;
          if (loaded===list.length) renderGallery(name);
        };
        img.src = src;
      });
    }

    function renderGallery(name) {
      gallery.innerHTML = "";
      if (currentList.length===0) {
        gallery.innerHTML = `<p style="color:#a8b0bd">No photos yet for ${name}.</p>`;
        return;
      }
      currentList.forEach((src, idx) => {
        const imgEl = document.createElement("img");
        imgEl.src = src;
        imgEl.alt = `${name} photo ${idx+1}`;
        imgEl.addEventListener("click", () => openLightbox(idx));
        gallery.appendChild(imgEl);
      });
    }

    function openLightbox(index) {
      currentIndex = index;
      updateLightboxImage();
      lightbox.classList.add("show");
    }
    function closeLightbox() { lightbox.classList.remove("show"); }
    function updateLightboxImage() { lightboxImg.src = currentList[currentIndex]; }
    function prevPhoto() { currentIndex=(currentIndex-1+currentList.length)%currentList.length; updateLightboxImage(); }
    function nextPhoto() { currentIndex=(currentIndex+1)%currentList.length; updateLightboxImage(); }

    closeBtn.addEventListener("click", closeLightbox);
    prevBtn.addEventListener("click", prevPhoto);
    nextBtn.addEventListener("click", nextPhoto);
    window                                                                                                                                                                                                                                                                                                                                                                       return;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      wolfAlive = Math.random() > 0.5;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            wolfHealth = wolfAlive ? 50 : 0;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (!shelterBuilt && wolfAlive) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          wolfAttack();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  updateStatus(`Night ${night}: A wolf appears!`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                updateStatus(`Night ${night}: You survived.`);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              function disableButtons() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    document.querySelectorAll("button").forEach(btn => btn.disabled = true);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            updateStatus("Night 1 begins...");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </html>
